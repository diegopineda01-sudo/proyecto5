(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const e of n)if(e.type==="childList")for(const c of e.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function r(n){const e={};return n.integrity&&(e.integrity=n.integrity),n.referrerPolicy&&(e.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?e.credentials="include":n.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function o(n){if(n.ep)return;n.ep=!0;const e=r(n);fetch(n.href,e)}})();document.querySelector(".data");let u=document.querySelector(".pokemon1"),f=document.querySelector(".pokemon2"),x=document.querySelector(".title"),E=document.querySelector(".rulesContainer"),b=document.querySelector(".butonContainer"),h=document.querySelector(".Winner"),y=document.querySelector(".pokemons"),L=document.querySelector(".newBatlle");L.addEventListener("click",async()=>{u.innerHTML="",f.innerHTML="",h.textContent="",y.textContent="";let m,l,r,o;try{let t=document.createElement("img");m=Math.floor(Math.random()*125)+1,r=await(await fetch("https://pokeapi.co/api/v2/pokemon/"+m)).json();let a=document.createElement("p");a.textContent=r.name;let i=document.createElement("p");i.textContent="HP: "+r.stats[1].base_stat,t.src=r.sprites.front_default,t.addEventListener("mouseover",()=>{t.src=r.sprites.back_default}),t.addEventListener("mouseout",()=>{t.src=r.sprites.front_default}),u.append(a,t,i)}catch{u.innerHTML="<p>Error fetching data</p>"}try{let t=document.createElement("img");l=Math.floor(Math.random()*125)+1,o=await(await fetch("https://pokeapi.co/api/v2/pokemon/"+l)).json();let a=document.createElement("p");a.textContent=o.name;let i=document.createElement("p");i.textContent="HP: "+o.stats[1].base_stat,t.src=o.sprites.front_default,t.addEventListener("mouseover",()=>{t.src=o.sprites.back_default}),t.addEventListener("mouseout",()=>{t.src=o.sprites.front_default}),f.append(a,t,i)}catch{f.innerHTML="<p>Error fetching data</p>"}x.innerHTML=r.name+" VS "+o.name,E.innerHTML="";let n=document.createElement("p");n.textContent="Winner is the one with higher HP stat!",E.appendChild(n),b.innerHTML="";let e=document.createElement("button");e.textContent="Battle",b.appendChild(e);function c(t){return new Promise(s=>setTimeout(s,t))}e.addEventListener("click",async()=>{e.disabled=!0;const t=["Fighting.","Fighting..","Fighting..."];for(let i of t)e.textContent=i,await c(1e3);e.disabled=!1,e.textContent="Battle",h.textContent="";let s=document.createElement("p"),a;if(r.stats[1].base_stat>o.stats[1].base_stat?(s.textContent=r.name+`!
 Type: `+r.types[0].type.name,a=r.types[0].type.name):r.stats[1].base_stat<o.stats[1].base_stat?(s.textContent=o.name+`!
 Type: `+o.types[0].type.name,a=o.types[0].type.name):s.textContent="It's a tie!",h.appendChild(s),a){const g=await(await fetch(`https://pokeapi.co/api/v2/type/${a}`)).json();y.textContent="";let p=[];for(;p.length<3;){let d=Math.floor(Math.random()*g.pokemon.length);p.includes(d)||p.push(d)}for(let d of p){const k=await(await fetch(g.pokemon[d].pokemon.url)).json();let C=document.createElement("img");C.src=k.sprites.front_default,y.appendChild(C)}}})});
