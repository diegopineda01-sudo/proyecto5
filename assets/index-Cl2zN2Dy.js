(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const p of e.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&n(p)}).observe(document,{childList:!0,subtree:!0});function o(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?e.credentials="include":t.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function n(t){if(t.ep)return;t.ep=!0;const e=o(t);fetch(t.href,e)}})();document.querySelector(".data");let y=document.querySelector(".pokemon1"),C=document.querySelector(".pokemon2"),L=document.querySelector(".title"),b=document.querySelector(".rulesContainer"),k=document.querySelector(".butonContainer"),E=document.querySelector(".Winner"),g=document.querySelector(".pokemons"),x=document.querySelector(".newBatlle");x.addEventListener("click",async()=>{y.innerHTML="",C.innerHTML="",E.textContent="",g.textContent="";let f,c,o,n;try{f=Math.floor(Math.random()*125)+1,c=Math.floor(Math.random()*125)+1;const[a,i]=await Promise.all([fetch(`https://pokeapi.co/api/v2/pokemon/${f}`).then(d=>d.json()),fetch(`https://pokeapi.co/api/v2/pokemon/${c}`).then(d=>d.json())]);o=a,n=i;let s=document.createElement("img"),m=document.createElement("p");m.textContent=o.name;let l=document.createElement("p");l.textContent="HP: "+o.stats[1].base_stat,s.src=o.sprites.front_default,s.addEventListener("mouseover",()=>{s.src=o.sprites.back_default}),s.addEventListener("mouseout",()=>{s.src=o.sprites.front_default}),y.append(m,s,l);let r=document.createElement("img"),h=document.createElement("p");h.textContent=n.name;let u=document.createElement("p");u.textContent="HP: "+n.stats[1].base_stat,r.src=n.sprites.front_default,r.addEventListener("mouseover",()=>{r.src=n.sprites.back_default}),r.addEventListener("mouseout",()=>{r.src=n.sprites.front_default}),C.append(h,r,u)}catch(a){console.error(a),y.innerHTML="<p>Error fetching data</p>",C.innerHTML="<p>Error fetching data</p>";return}L.innerHTML=o.name+" VS "+n.name,b.innerHTML="";let t=document.createElement("p");t.textContent="Winner is the one with higher HP stat!",b.appendChild(t),k.innerHTML="";let e=document.createElement("button");e.textContent="Battle",k.appendChild(e);function p(a){return new Promise(i=>setTimeout(i,a))}e.addEventListener("click",async()=>{e.disabled=!0,e.textContent="Fighting";for(let s=0;s<3;s++)await p(500),e.textContent+=".";e.disabled=!1,e.textContent="Battle",E.textContent="";let a=document.createElement("p"),i;if(o.stats[1].base_stat>n.stats[1].base_stat?(a.textContent=o.name+`!
 Type: `+o.types[0].type.name,i=o.types[0].type.name):o.stats[1].base_stat<n.stats[1].base_stat?(a.textContent=n.name+`!
 Type: `+n.types[0].type.name,i=n.types[0].type.name):a.textContent="It's a tie!",E.appendChild(a),i){const m=await(await fetch(`https://pokeapi.co/api/v2/type/${i}`)).json();g.textContent="";let l=[];for(;l.length<3;){let r=Math.floor(Math.random()*m.pokemon.length);l.includes(r)||l.push(r)}for(let r of l){const u=await(await fetch(m.pokemon[r].pokemon.url)).json();let d=document.createElement("img");d.src=u.sprites.front_default,g.appendChild(d)}}})});
